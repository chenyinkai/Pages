var __reflect=this&&this.__reflect||function(e,t,r){e.__class__=t,r?r.push(t):r=[t],e.__types__=e.__types__?r.concat(e.__types__):r},__extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},Game=function(e){function t(){var t=e.call(this)||this;return t.score=0,t.bg(),t.setHand(),t.setUI(),t}return __extends(t,e),t.prototype.bg=function(){var e=new egret.Shape;e.graphics.beginFill(15087730),e.graphics.drawRect(0,0,GameData.getStageWidth(),GameData.getStageHeight()),e.graphics.endFill(),this.addChild(e);var t=(GameData.getStageWidth(),GameData.getStageHeight()),r=new egret.Bitmap;r.texture=RES.getRes("bg_png"),this.addChild(r),r.height=t;var n=new egret.Bitmap;n.texture=RES.getRes("top_png"),this.addChild(n),n.x=0,n.y=0;var a=new egret.TextField;a.size=40,a.text="0",a.x=80,a.y=100,this.addChild(a),this.score_txt=a;var i=new TimerPanel;this.addChild(i),i.start(),i.addEventListener(GameEvent.GAME_OVER,this.gameOver,this)},t.prototype.setHand=function(){var e=GameData.getStageWidth(),t=GameData.getStageHeight(),r=new egret.Bitmap;r.texture=RES.getRes("rock_png"),this.addChild(r),r.anchorOffsetY=r.height/2,r.x=-50,r.y=t/2-100,r.scaleX=.6,r.scaleY=.6,this.left_hand=r,this.lTween();var n=new egret.Bitmap;n.texture=RES.getRes("rock_png"),this.addChild(n),n.rotation=180,n.anchorOffsetX=0,n.anchorOffsetY=n.height/2,n.x=e+50,n.y=t/2-100,n.scaleX=.6,n.scaleY=.6,this.right_hand=n,this.rTween()},t.prototype.lTween=function(){var e=parseInt(egret.localStorage.getItem("canquan_time"));if(e>=30)var t=130;else if(e>=15&&30>e)var t=70;else var t=40;this.left_hand.texture=RES.getRes("rock_png"),this.left_tween=egret.Tween.get(this.left_hand),this.left_tween.to({rotation:20},t).to({rotation:-20},t).to({rotation:20},t).to({rotation:-20},t).to({rotation:20},t).to({rotation:-20},t).to({rotation:0},t).call(this.left_change,this)},t.prototype.rTween=function(){var e=parseInt(egret.localStorage.getItem("canquan_time"));if(e>=30)var t=130;else if(e>=15&&30>e)var t=70;else var t=40;this.right_hand.texture=RES.getRes("rock_png"),this.right_tween=egret.Tween.get(this.right_hand),this.right_tween.to({rotation:160},t).to({rotation:200},t).to({rotation:160},t).to({rotation:200},t).to({rotation:160},t).to({rotation:200},t).to({rotation:180},t).call(this.right_change,this)},t.prototype.un_touch=function(){this.left_btn.touchEnabled=!1,this.middle_btn.touchEnabled=!1,this.right_btn.touchEnabled=!1},t.prototype.left_change=function(){this.left_btn.touchEnabled=!0,this.middle_btn.touchEnabled=!0,this.right_btn.touchEnabled=!0;var e=Math.random();e>=0&&.33>e?(this.left_hand.texture=RES.getRes("rock_png"),this.left_type=0):e>=.33&&.66>e?(this.left_hand.texture=RES.getRes("paper_png"),this.left_type=1):(this.left_hand.texture=RES.getRes("scissor_png"),this.left_type=2)},t.prototype.right_change=function(){var e=Math.random();e>=0&&.33>e?(this.right_hand.texture=RES.getRes("rock_png"),this.right_type=0):e>=.33&&.66>e?(this.right_hand.texture=RES.getRes("paper_png"),this.right_type=1):(this.right_hand.texture=RES.getRes("scissor_png"),this.right_type=2)},t.prototype.setUI=function(){var e=(GameData.getStageWidth(),GameData.getStageHeight()),t=new egret.Bitmap;t.texture=RES.getRes("left_png"),this.addChild(t),this.left_btn=t,t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,t.x=t.width/2,t.y=e-t.height/2,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.left_btnCallback,this),t.addEventListener(egret.TouchEvent.TOUCH_END,this.left_btnCallback,this),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.left_btnCallback,this);var r=new egret.Bitmap;r.texture=RES.getRes("middle_png"),this.addChild(r),this.middle_btn=r,r.anchorOffsetX=r.width/2,r.anchorOffsetY=r.height/2,r.x=r.width/2+t.width,r.y=e-r.height/2,r.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.middle_btnCallback,this),r.addEventListener(egret.TouchEvent.TOUCH_END,this.middle_btnCallback,this),r.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.middle_btnCallback,this);var n=new egret.Bitmap;n.texture=RES.getRes("right_png"),this.addChild(n),this.right_btn=n,n.anchorOffsetX=n.width/2,n.anchorOffsetY=n.height/2,n.x=n.width/2+t.width+r.width,n.y=e-n.height/2,n.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.right_btnCallback,this),n.addEventListener(egret.TouchEvent.TOUCH_END,this.right_btnCallback,this),n.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.right_btnCallback,this)},t.prototype.left_btnCallback=function(e){if(e.type==egret.TouchEvent.TOUCH_BEGIN)e.currentTarget.scaleX=1.05,e.currentTarget.scaleY=1.05,this.left_btn.texture=RES.getRes("left_press_png");else if(e.type==egret.TouchEvent.TOUCH_END){e.currentTarget.scaleX=1,e.currentTarget.scaleY=1,this.left_btn.texture=RES.getRes("left_png"),this.un_touch(),0==this.left_type?0==this.right_type?(console.log("打平了"),this.answer_type=!1):1==this.right_type?(console.log("右边赢"),this.answer_type=!1):(console.log("左边赢"),this.score++,this.answer_type=!0):1==this.left_type?0==this.right_type?(console.log("左边赢"),this.score++,this.answer_type=!0):1==this.right_type?(console.log("打平了"),this.answer_type=!1):(console.log("右边赢"),this.answer_type=!1):0==this.right_type?(console.log("右边赢"),this.answer_type=!1):1==this.right_type?(console.log("左边赢"),this.score++,this.answer_type=!0):(console.log("打平了"),this.answer_type=!1),this.score_txt.text=""+this.score,this.alert();var t=this;setTimeout(function(){t.alert_img.parent&&t.alert_img.parent.removeChild(t.alert_img),t.lTween(),t.rTween()},300)}else e.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE&&(e.currentTarget.scaleX=1,e.currentTarget.scaleY=1,this.left_btn.texture=RES.getRes("left_png"))},t.prototype.middle_btnCallback=function(e){if(e.type==egret.TouchEvent.TOUCH_BEGIN)e.currentTarget.scaleX=1.05,e.currentTarget.scaleY=1.05,this.middle_btn.texture=RES.getRes("middle_press_png");else if(e.type==egret.TouchEvent.TOUCH_END){e.currentTarget.scaleX=1,e.currentTarget.scaleY=1,this.middle_btn.texture=RES.getRes("middle_png"),this.un_touch(),0==this.left_type?0==this.right_type?(console.log("打平了"),this.score++,this.answer_type=!0):1==this.right_type?(console.log("右边赢"),this.answer_type=!1):(console.log("左边赢"),this.answer_type=!1):1==this.left_type?0==this.right_type?(console.log("左边赢"),this.answer_type=!1):1==this.right_type?(console.log("打平了"),this.score++,this.answer_type=!0):(console.log("右边赢"),this.answer_type=!1):0==this.right_type?(console.log("右边赢"),this.answer_type=!1):1==this.right_type?(console.log("左边赢"),this.answer_type=!1):(console.log("打平了"),this.score++,this.answer_type=!0),this.score_txt.text=""+this.score,this.alert();var t=this;setTimeout(function(){t.alert_img.parent&&t.alert_img.parent.removeChild(t.alert_img),t.lTween(),t.rTween()},300)}else e.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE&&(e.currentTarget.scaleX=1,e.currentTarget.scaleY=1,this.middle_btn.texture=RES.getRes("middle_png"))},t.prototype.right_btnCallback=function(e){if(e.type==egret.TouchEvent.TOUCH_BEGIN)e.currentTarget.scaleX=1.05,e.currentTarget.scaleY=1.05,this.right_btn.texture=RES.getRes("right_press_png");else if(e.type==egret.TouchEvent.TOUCH_END){e.currentTarget.scaleX=1,e.currentTarget.scaleY=1,this.right_btn.texture=RES.getRes("right_png"),this.un_touch(),0==this.left_type?0==this.right_type?(console.log("打平了"),this.answer_type=!1):1==this.right_type?(console.log("右边赢"),this.score++,this.answer_type=!0):(console.log("左边赢"),this.answer_type=!1):1==this.left_type?0==this.right_type?(console.log("左边赢"),this.answer_type=!1):1==this.right_type?(console.log("打平了"),this.answer_type=!1):(console.log("右边赢"),this.score++,this.answer_type=!0):0==this.right_type?(console.log("右边赢"),this.score++,this.answer_type=!0):1==this.right_type?(console.log("左边赢"),this.answer_type=!1):(console.log("打平了"),this.answer_type=!1),this.score_txt.text=""+this.score,this.alert();var t=this;setTimeout(function(){t.alert_img.parent&&t.alert_img.parent.removeChild(t.alert_img),t.lTween(),t.rTween()},300)}else e.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE&&(e.currentTarget.scaleX=1,e.currentTarget.scaleY=1,this.right_btn.texture=RES.getRes("right_png"))},t.prototype.alert=function(){var e=new egret.Bitmap;0==this.answer_type?e.texture=RES.getRes("fault_png"):e.texture=RES.getRes("true_png"),this.addChild(e),this.alert_img=e,e.x=0,e.y=GameData.getStageHeight()/2-e.height/2-80},t.prototype.gameOver=function(){var e="canquan_game_score",t=""+this.score;egret.localStorage.setItem(e,t);var r=new GameEvent(GameEvent.GAME_OVER);this.dispatchEvent(r)},t}(egret.Sprite);__reflect(Game.prototype,"Game");var GameData=function(){function e(){}return e.getStageWidth=function(){return egret.MainContext.instance.stage.stageWidth},e.getStageHeight=function(){return egret.MainContext.instance.stage.stageHeight},e}();__reflect(GameData.prototype,"GameData");var GameEvent=function(e){function t(){return e.apply(this,arguments)||this}return __extends(t,e),t}(egret.Event);GameEvent.GAME_OVER="game_over_event",GameEvent.GAME_HIT="game_hit_event",GameEvent.GAME_START="game_start_event",GameEvent.GAME_GO="game_go_event",GameEvent.GAME_CONTINUE="game_continue_event",GameEvent.GAME_BLEED="game_bleed_event",GameEvent.GAME_HELP="game_help_event",GameEvent.GAME_RANK="game_rank_event",GameEvent.GAME_HINT="game_hint_event",GameEvent.GAME_TORANK="game_torank_event",__reflect(GameEvent.prototype,"GameEvent");var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},t.prototype.setProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(e){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},t.prototype.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},t.prototype.onResourceLoadComplete=function(e){"preload"==e.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene())},t.prototype.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},t.prototype.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},t.prototype.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},t.prototype.createGameScene=function(){var e=new StartScene;this.addChild(e),e.addEventListener(GameEvent.GAME_GO,this.go,this),e.addEventListener(GameEvent.GAME_BLEED,this.startrank,this)},t.prototype.go=function(){this.removeChildren();var e=new Game;this.addChild(e),e.addEventListener(GameEvent.GAME_OVER,this.gameOver,this)},t.prototype.begin=function(){this.removeChildren();var e=new StartScene;this.addChild(e),e.addEventListener(GameEvent.GAME_GO,this.go,this),e.addEventListener(GameEvent.GAME_BLEED,this.startrank,this)},t.prototype.gameOver=function(){this.removeChildren();var e=new OverScene;this.addChild(e),e.addEventListener(GameEvent.GAME_CONTINUE,this.go,this),e.addEventListener(GameEvent.GAME_RANK,this.rank,this),e.addEventListener(GameEvent.GAME_HIT,this.begin,this)},t.prototype.rank=function(){this.removeChildren();var e=new RankScene;this.addChild(e),e.addEventListener(GameEvent.GAME_START,this.gameOver,this)},t.prototype.startrank=function(){this.removeChildren();var e=new RankScene;this.addChild(e),e.addEventListener(GameEvent.GAME_START,this.createGameScene,this)},t}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var OverScene=function(e){function t(){var t=e.call(this)||this;return t.init(),t}return __extends(t,e),t.prototype.init=function(){var e=new egret.Shape;e.graphics.beginFill(15087730),e.graphics.drawRect(0,0,GameData.getStageWidth(),GameData.getStageHeight()),e.graphics.endFill(),this.addChild(e);var t=new egret.Bitmap;t.texture=RES.getRes("5541c88bb1fd0_wx_jpg"),this.addChild(t),t.scaleX=.5,t.scaleY=.5;var r=new egret.Bitmap;r.texture=RES.getRes("end1_png"),this.addChild(r),r.x=50,r.y=100;var n=egret.localStorage.getItem("canquan_game_score"),a=new egret.TextField;if(a.size=80,a.text=n,a.x=260,a.y=500,a.textColor=16711680,this.addChild(a),window.name){var i=getwinname(),s="gid="+i.gid+"&uid="+i.uid+"&score="+n,o=new egret.HttpRequest;o.responseType=egret.HttpResponseType.TEXT,o.open("http://wxgame.solosea.com/user/score.html",egret.HttpMethod.POST),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(s),o.addEventListener(egret.Event.COMPLETE,this.onPostComplete,this),o.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostIOError,this),o.addEventListener(egret.ProgressEvent.PROGRESS,this.onPostProgress,this)}var h=new egret.Bitmap;h.texture=RES.getRes("replay_png"),this.addChild(h),h.anchorOffsetX=h.width/2,h.anchorOffsetY=h.height/2,h.x=150,h.y=750,h.touchEnabled=!0,h.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.replay_btnCallback,this),h.addEventListener(egret.TouchEvent.TOUCH_END,this.replay_btnCallback,this),h.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.replay_btnCallback,this);var g=new egret.Bitmap;g.texture=RES.getRes("rank_png"),this.addChild(g),g.anchorOffsetX=g.width/2,g.anchorOffsetY=g.height/2,g.x=300,g.y=750,g.touchEnabled=!0,g.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.rank_btnCallback,this),g.addEventListener(egret.TouchEvent.TOUCH_END,this.rank_btnCallback,this),g.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.rank_btnCallback,this);var c=new egret.Bitmap;c.texture=RES.getRes("home_png"),this.addChild(c),c.anchorOffsetX=c.width/2,c.anchorOffsetY=c.height/2,c.x=450,c.y=750,c.touchEnabled=!0,c.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.home_btnCallback,this),c.addEventListener(egret.TouchEvent.TOUCH_END,this.home_btnCallback,this),c.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.home_btnCallback,this)},t.prototype.replay_btnCallback=function(e){if(e.type==egret.TouchEvent.TOUCH_BEGIN)e.currentTarget.scaleX=1.05,e.currentTarget.scaleY=1.05;else if(e.type==egret.TouchEvent.TOUCH_END){e.currentTarget.scaleX=1,e.currentTarget.scaleY=1;var t=new GameEvent(GameEvent.GAME_CONTINUE);this.dispatchEvent(t)}else e.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE&&(e.currentTarget.scaleX=1,e.currentTarget.scaleY=1)},t.prototype.rank_btnCallback=function(e){if(e.type==egret.TouchEvent.TOUCH_BEGIN)e.currentTarget.scaleX=1.05,e.currentTarget.scaleY=1.05;else if(e.type==egret.TouchEvent.TOUCH_END){e.currentTarget.scaleX=1,e.currentTarget.scaleY=1;var t=new GameEvent(GameEvent.GAME_RANK);this.dispatchEvent(t)}else e.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE&&(e.currentTarget.scaleX=1,e.currentTarget.scaleY=1)},t.prototype.home_btnCallback=function(e){if(e.type==egret.TouchEvent.TOUCH_BEGIN)e.currentTarget.scaleX=1.05,e.currentTarget.scaleY=1.05;else if(e.type==egret.TouchEvent.TOUCH_END){e.currentTarget.scaleX=1,e.currentTarget.scaleY=1;var t=new GameEvent(GameEvent.GAME_HIT);this.dispatchEvent(t)}else e.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE&&(e.currentTarget.scaleX=1,e.currentTarget.scaleY=1)},t.prototype.onPostComplete=function(e){e.currentTarget},t.prototype.onPostIOError=function(e){console.log("FailedLayer post error : "+e)},t.prototype.onPostProgress=function(e){},t}(egret.Sprite);__reflect(OverScene.prototype,"OverScene");var RankScene=function(_super){function RankScene(){var e=_super.call(this)||this;return e.init(),e}return __extends(RankScene,_super),RankScene.prototype.init=function(){var e=GameData.getStageWidth(),t=GameData.getStageHeight(),r=new egret.Shape;r.graphics.beginFill(15087730),r.graphics.drawRect(0,0,GameData.getStageWidth(),GameData.getStageHeight()),r.graphics.endFill(),this.addChild(r);var n=new egret.Bitmap;n.texture=RES.getRes("bg_png"),this.addChild(n),n.height=t;var a=new egret.TextField;a.width=egret.MainContext.instance.stage.stageWidth,this.addChild(a),a.y=50,a.textAlign=egret.HorizontalAlign.CENTER,a.size=50,a.textColor=65280,a.text="排行榜(前十)";var i=new egret.TextField;i.width=egret.MainContext.instance.stage.stageWidth,this.addChild(i),i.x=100,i.y=120,i.textAlign=egret.HorizontalAlign.LEFT,i.size=30,i.textColor=65280,this.txt=i;var s=new egret.Bitmap;if(s.texture=RES.getRes("back_png"),this.addChild(s),s.anchorOffsetX=s.width/2,s.anchorOffsetY=s.height/2,s.x=e/2,s.y=.76*t,s.touchEnabled=!0,s.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.homeBtnCallback,this),s.addEventListener(egret.TouchEvent.TOUCH_END,this.homeBtnCallback,this),s.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.homeBtnCallback,this),window.name){var o=getwinname(),h="http://wxgame.solosea.com/user/ranking.html?gid="+o.gid,g=new egret.URLLoader;g.dataFormat=egret.URLLoaderDataFormat.TEXT,g.addEventListener(egret.Event.COMPLETE,this.onGetComplete,this);var c=new egret.URLRequest(h);c.method=egret.URLRequestMethod.GET,g.load(c)}},RankScene.prototype.onGetComplete=function(event){console.log(111);var loader=event.target,data=loader.data,js=eval("("+data.toString()+")");if(console.log(js.data),0===js.data.length)this.txt.text="还没有排行，快来参与吧";else for(var i=0;i<js.data.length;i++)if(js.data.length<10){var rank_num=new egret.TextField;this.addChild(rank_num),rank_num.x=100,rank_num.y=140+60*i,rank_num.size=30,rank_num.textColor=16777215,rank_num.text=""+(i+1);var user_name=new egret.TextField;this.addChild(user_name),user_name.width=300,user_name.height=30,user_name.textAlign=egret.HorizontalAlign.CENTER,user_name.x=150,user_name.y=140+60*i,user_name.size=24,user_name.textColor=16777215,user_name.text=js.data[i].name;var tscore=new egret.TextField;this.addChild(tscore),tscore.x=500,tscore.y=140+60*i,tscore.size=30,tscore.textColor=16777215,tscore.text=js.data[i].tscore}},RankScene.prototype.homeBtnCallback=function(e){if(e.type==egret.TouchEvent.TOUCH_BEGIN)e.currentTarget.scaleX=1.05,e.currentTarget.scaleY=1.05;else if(e.type==egret.TouchEvent.TOUCH_END){e.currentTarget.scaleX=1,e.currentTarget.scaleY=1;var t=new GameEvent(GameEvent.GAME_START);this.dispatchEvent(t)}else e.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE&&(e.currentTarget.scaleX=1,e.currentTarget.scaleY=1)},RankScene}(egret.Sprite);__reflect(RankScene.prototype,"RankScene");var StartScene=function(e){function t(){var t=e.call(this)||this;return t.init(),t}return __extends(t,e),t.prototype.init=function(){var e=new egret.Shape;e.graphics.beginFill(15087730),e.graphics.drawRect(0,0,GameData.getStageWidth(),GameData.getStageHeight()),e.graphics.endFill(),this.addChild(e);var t=new egret.Bitmap;t.texture=RES.getRes("logo_png"),this.addChild(t),t.x=20,t.y=100;var r=new egret.Bitmap;r.texture=RES.getRes("btn_start_png"),this.addChild(r),this.start_btn=r,r.anchorOffsetX=r.width/2,r.anchorOffsetY=r.height/2,r.touchEnabled=!0,r.x=GameData.getStageWidth()/2,r.y=800,r.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.start_btnCallback,this),r.addEventListener(egret.TouchEvent.TOUCH_END,this.start_btnCallback,this),r.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.start_btnCallback,this);var n=new egret.Bitmap;n.texture=RES.getRes("rank_png"),this.addChild(n),n.anchorOffsetX=n.width/2,n.anchorOffsetY=n.height/2,n.x=550,n.y=60,n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.rank_btnCallback,this),n.addEventListener(egret.TouchEvent.TOUCH_END,this.rank_btnCallback,this),n.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.rank_btnCallback,this)},t.prototype.start_btnCallback=function(e){if(e.type==egret.TouchEvent.TOUCH_BEGIN)e.currentTarget.scaleX=1.05,e.currentTarget.scaleY=1.05;else if(e.type==egret.TouchEvent.TOUCH_END){e.currentTarget.scaleX=1,e.currentTarget.scaleY=1;var t=new GameEvent(GameEvent.GAME_GO);this.dispatchEvent(t)}else e.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE&&(e.currentTarget.scaleX=1,e.currentTarget.scaleY=1)},t.prototype.rank_btnCallback=function(e){if(e.type==egret.TouchEvent.TOUCH_BEGIN)e.currentTarget.scaleX=1.05,e.currentTarget.scaleY=1.05;else if(e.type==egret.TouchEvent.TOUCH_END){e.currentTarget.scaleX=1,e.currentTarget.scaleY=1;var t=new GameEvent(GameEvent.GAME_BLEED);this.dispatchEvent(t)}else e.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE&&(e.currentTarget.scaleX=1,e.currentTarget.scaleY=1)},t}(egret.Sprite);__reflect(StartScene.prototype,"StartScene");var TimerPanel=function(e){function t(){var t=e.call(this)||this;return t._num=45,t._timers=45,t.draw(),t.createTimer(),t}return __extends(t,e),t.prototype.draw=function(){this.txt=new egret.TextField,this.txt.width=egret.MainContext.instance.stage.stageWidth,this.txt.size=40,this.txt.y=110,this.txt.x=250,this.txt.textColor=16711680,this.txt.text="45'00''",this.addChild(this.txt)},t.prototype.createTimer=function(){var e="canquan_time",t="45";egret.localStorage.setItem(e,t),this._timer=new egret.Timer(1e3,this._num),this._timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this),this._timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerCom,this)},t.prototype.onTimer=function(){this._timers-=1,this.txt.text=this._timers+"'00''";var e="canquan_time",t=""+this._timers;egret.localStorage.setItem(e,t)},t.prototype.onTimerCom=function(){this.txt.text="00'00''",console.log(111);var e=new GameEvent(GameEvent.GAME_OVER);this.dispatchEvent(e)},t.prototype.start=function(){this.txt.text="45'00''",this._timers=45,this._timer.reset(),this._timer.start()},t}(egret.Sprite);__reflect(TimerPanel.prototype,"TimerPanel");